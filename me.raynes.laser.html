<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>me.raynes.laser documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Laser 0.1.6 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li class="current"><a href="me.raynes.laser.html"><span>me.raynes.laser</span></a></li><li><a href="me.raynes.laser.zip.html"><span>me.raynes.laser.zip</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="me.raynes.laser.html#var-add-class"><span>add-class</span></a></li><li><a href="me.raynes.laser.html#var-ajacent-to"><span>ajacent-to</span></a></li><li><a href="me.raynes.laser.html#var-any"><span>any</span></a></li><li><a href="me.raynes.laser.html#var-attr"><span>attr</span></a></li><li><a href="me.raynes.laser.html#var-attr%3D"><span>attr=</span></a></li><li><a href="me.raynes.laser.html#var-attr%3F"><span>attr?</span></a></li><li><a href="me.raynes.laser.html#var-child-of"><span>child-of</span></a></li><li><a href="me.raynes.laser.html#var-class%3D"><span>class=</span></a></li><li><a href="me.raynes.laser.html#var-classes"><span>classes</span></a></li><li><a href="me.raynes.laser.html#var-content"><span>content</span></a></li><li><a href="me.raynes.laser.html#var-defdocument"><span>defdocument</span></a></li><li><a href="me.raynes.laser.html#var-defragment"><span>defragment</span></a></li><li><a href="me.raynes.laser.html#var-descendant-of"><span>descendant-of</span></a></li><li><a href="me.raynes.laser.html#var-document"><span>document</span></a></li><li><a href="me.raynes.laser.html#var-element%3D"><span>element=</span></a></li><li><a href="me.raynes.laser.html#var-escape-html"><span>escape-html</span></a></li><li><a href="me.raynes.laser.html#var-fragment"><span>fragment</span></a></li><li><a href="me.raynes.laser.html#var-fragment-to-html"><span>fragment-to-html</span></a></li><li><a href="me.raynes.laser.html#var-html-content"><span>html-content</span></a></li><li><a href="me.raynes.laser.html#var-id"><span>id</span></a></li><li><a href="me.raynes.laser.html#var-id%3D"><span>id=</span></a></li><li><a href="me.raynes.laser.html#var-negate"><span>negate</span></a></li><li><a href="me.raynes.laser.html#var-parse"><span>parse</span></a></li><li><a href="me.raynes.laser.html#var-parse-fragment"><span>parse-fragment</span></a></li><li><a href="me.raynes.laser.html#var-remove"><span>remove</span></a></li><li><a href="me.raynes.laser.html#var-remove-class"><span>remove-class</span></a></li><li><a href="me.raynes.laser.html#var-select-and"><span>select-and</span></a></li><li><a href="me.raynes.laser.html#var-select-or"><span>select-or</span></a></li><li><a href="me.raynes.laser.html#var-to-html"><span>to-html</span></a></li><li><a href="me.raynes.laser.html#var-wrap"><span>wrap</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>me.raynes.laser documentation</h2><pre class="doc"></pre><div class="public" id="var-add-class"><h3>add-class</h3><div class="usage"><code>(add-class class)</code></div><pre class="doc">Add a class to the node. Does not replace existng classes.
</pre><div class="src-link"><a href="https://github.com/Raynes/laser/tree/e1beb765cf40564a789fa5d2d5f795e9df724530/src/me/raynes/laser.clj#L196">Source</a></div></div><div class="public" id="var-ajacent-to"><h3>ajacent-to</h3><div class="usage"><code>(ajacent-to target left)</code></div><pre class="doc">A selector that matches iff target selector matches AND
left selector matches the element immediately preceding it.</pre><div class="src-link"><a href="https://github.com/Raynes/laser/tree/e1beb765cf40564a789fa5d2d5f795e9df724530/src/me/raynes/laser.clj#L151">Source</a></div></div><div class="public" id="var-any"><h3>any</h3><div class="usage"><code>(any)</code></div><pre class="doc">A selector that matches any node.
</pre><div class="src-link"><a href="https://github.com/Raynes/laser/tree/e1beb765cf40564a789fa5d2d5f795e9df724530/src/me/raynes/laser.clj#L120">Source</a></div></div><div class="public" id="var-attr"><h3>attr</h3><div class="usage"><code>(attr attr value)</code></div><pre class="doc">Set attribute attr to value.
</pre><div class="src-link"><a href="https://github.com/Raynes/laser/tree/e1beb765cf40564a789fa5d2d5f795e9df724530/src/me/raynes/laser.clj#L181">Source</a></div></div><div class="public" id="var-attr%3D"><h3>attr=</h3><div class="usage"><code>(attr= attr value)</code></div><pre class="doc">A selector that checks to see if attr exists and has the value.
</pre><div class="src-link"><a href="https://github.com/Raynes/laser/tree/e1beb765cf40564a789fa5d2d5f795e9df724530/src/me/raynes/laser.clj#L93">Source</a></div></div><div class="public" id="var-attr%3F"><h3>attr?</h3><div class="usage"><code>(attr? attr)</code></div><pre class="doc">A selector that matches any element that has the attribute,
regardless of value.</pre><div class="src-link"><a href="https://github.com/Raynes/laser/tree/e1beb765cf40564a789fa5d2d5f795e9df724530/src/me/raynes/laser.clj#L98">Source</a></div></div><div class="public" id="var-child-of"><h3>child-of</h3><div class="usage"><code>(child-of parent-selector child-selector)</code></div><pre class="doc">A selector that matches iff child selector matches
and parent-selector matches for the immediate parent node.
This is like 'foo &gt; bar' in css.</pre><div class="src-link"><a href="https://github.com/Raynes/laser/tree/e1beb765cf40564a789fa5d2d5f795e9df724530/src/me/raynes/laser.clj#L160">Source</a></div></div><div class="public" id="var-class%3D"><h3>class=</h3><div class="usage"><code>(class= &amp; classes)</code></div><pre class="doc">A selector that matches if the node has these classes.
</pre><div class="src-link"><a href="https://github.com/Raynes/laser/tree/e1beb765cf40564a789fa5d2d5f795e9df724530/src/me/raynes/laser.clj#L107">Source</a></div></div><div class="public" id="var-classes"><h3>classes</h3><div class="usage"><code>(classes value)</code></div><pre class="doc">Set the node's class attribute to the string.
</pre><div class="src-link"><a href="https://github.com/Raynes/laser/tree/e1beb765cf40564a789fa5d2d5f795e9df724530/src/me/raynes/laser.clj#L186">Source</a></div></div><div class="public" id="var-content"><h3>content</h3><div class="usage"><code>(content s)</code></div><pre class="doc">Set content of node to s.
</pre><div class="src-link"><a href="https://github.com/Raynes/laser/tree/e1beb765cf40564a789fa5d2d5f795e9df724530/src/me/raynes/laser.clj#L171">Source</a></div></div><div class="public" id="var-defdocument"><h3>defdocument</h3><h4 class="macro">macro</h4><div class="usage"><code>(defdocument name s args &amp; transformations)</code></div><pre class="doc">Define a function that transforms an HTML document.
</pre><div class="src-link"><a href="https://github.com/Raynes/laser/tree/e1beb765cf40564a789fa5d2d5f795e9df724530/src/me/raynes/laser.clj#L245">Source</a></div></div><div class="public" id="var-defragment"><h3>defragment</h3><h4 class="macro">macro</h4><div class="usage"><code>(defragment name s args &amp; transformations)</code></div><pre class="doc">Define a function that transforms a fragment of HTML.
</pre><div class="src-link"><a href="https://github.com/Raynes/laser/tree/e1beb765cf40564a789fa5d2d5f795e9df724530/src/me/raynes/laser.clj#L238">Source</a></div></div><div class="public" id="var-descendant-of"><h3>descendant-of</h3><div class="usage"><code>(descendant-of parent-selector child-selector)</code></div><pre class="doc">A selector that matches iff child selector matches, and
parent-selector matches for some parent node. Like
'foo bar' in css.</pre><div class="src-link"><a href="https://github.com/Raynes/laser/tree/e1beb765cf40564a789fa5d2d5f795e9df724530/src/me/raynes/laser.clj#L142">Source</a></div></div><div class="public" id="var-document"><h3>document</h3><div class="usage"><code>(document s &amp; fns)</code></div><pre class="doc">Transform an HTML document. Use this for any top-level transformation.
It expects a full HTML document (complete with &lt;html&gt; and &lt;head&gt;) and
makes it one if it doesn't get one. Takes HTML parsed by the parse-html
function.</pre><div class="src-link"><a href="https://github.com/Raynes/laser/tree/e1beb765cf40564a789fa5d2d5f795e9df724530/src/me/raynes/laser.clj#L220">Source</a></div></div><div class="public" id="var-element%3D"><h3>element=</h3><div class="usage"><code>(element= element)</code></div><pre class="doc">A selector that matches an element with this name.
</pre><div class="src-link"><a href="https://github.com/Raynes/laser/tree/e1beb765cf40564a789fa5d2d5f795e9df724530/src/me/raynes/laser.clj#L88">Source</a></div></div><div class="public" id="var-escape-html"><h3>escape-html</h3><div class="usage"><code>(escape-html text)</code></div><pre class="doc">Change special characters into HTML character entities.
</pre><div class="src-link"><a href="https://github.com/Raynes/laser/tree/e1beb765cf40564a789fa5d2d5f795e9df724530/src/me/raynes/laser.clj#L37">Source</a></div></div><div class="public" id="var-fragment"><h3>fragment</h3><div class="usage"><code>(fragment s &amp; fns)</code></div><pre class="doc">Transform an HTML fragment. Use document for transforming full HTML
documents. This function does not return HTML, but instead returns a
sequence of zippers of the transformed HTML. This is to make
composing fragments faster. You can call to-html on the output to get
HTML.</pre><div class="src-link"><a href="https://github.com/Raynes/laser/tree/e1beb765cf40564a789fa5d2d5f795e9df724530/src/me/raynes/laser.clj#L228">Source</a></div></div><div class="public" id="var-fragment-to-html"><h3>fragment-to-html</h3><div class="usage"><code>(fragment-to-html z)</code></div><pre class="doc">Takes a parsed fragment and converts it back to HTML.
</pre><div class="src-link"><a href="https://github.com/Raynes/laser/tree/e1beb765cf40564a789fa5d2d5f795e9df724530/src/me/raynes/laser.clj#L54">Source</a></div></div><div class="public" id="var-html-content"><h3>html-content</h3><div class="usage"><code>(html-content s)</code></div><pre class="doc">Set content of node to s, unescaped.
</pre><div class="src-link"><a href="https://github.com/Raynes/laser/tree/e1beb765cf40564a789fa5d2d5f795e9df724530/src/me/raynes/laser.clj#L176">Source</a></div></div><div class="public" id="var-id"><h3>id</h3><div class="usage"><code>(id value)</code></div><pre class="doc">Set the node's id to the string.
</pre><div class="src-link"><a href="https://github.com/Raynes/laser/tree/e1beb765cf40564a789fa5d2d5f795e9df724530/src/me/raynes/laser.clj#L191">Source</a></div></div><div class="public" id="var-id%3D"><h3>id=</h3><div class="usage"><code>(id= id)</code></div><pre class="doc">A selector that matches the node's id.
</pre><div class="src-link"><a href="https://github.com/Raynes/laser/tree/e1beb765cf40564a789fa5d2d5f795e9df724530/src/me/raynes/laser.clj#L116">Source</a></div></div><div class="public" id="var-negate"><h3>negate</h3><div class="usage"><code>(negate selector)</code></div><pre class="doc">Negates a selector. Like clojure.core/not.
</pre><div class="src-link"><a href="https://github.com/Raynes/laser/tree/e1beb765cf40564a789fa5d2d5f795e9df724530/src/me/raynes/laser.clj#L126">Source</a></div></div><div class="public" id="var-parse"><h3>parse</h3><div class="usage"><code>(parse s)</code></div><pre class="doc">Parses an HTML document. This is for top-level full documents,
complete with &lt;body&gt;, &lt;head&gt;, and &lt;html&gt; tags. If they are not
present, they will be added to the final result. s can be a string
in which case it will be treated as a string of HTML or it can be
something that can be slurped (reader, file, etc).</pre><div class="src-link"><a href="https://github.com/Raynes/laser/tree/e1beb765cf40564a789fa5d2d5f795e9df724530/src/me/raynes/laser.clj#L9">Source</a></div></div><div class="public" id="var-parse-fragment"><h3>parse-fragment</h3><div class="usage"><code>(parse-fragment s)</code></div><pre class="doc">Parses an HTML fragment. s can be a string in which case it will be treated
as a string of HTML or it can be something than can be slurped (reader, file,
etc).</pre><div class="src-link"><a href="https://github.com/Raynes/laser/tree/e1beb765cf40564a789fa5d2d5f795e9df724530/src/me/raynes/laser.clj#L24">Source</a></div></div><div class="public" id="var-remove"><h3>remove</h3><div class="usage"><code>(remove)</code></div><pre class="doc">Delete a node.
</pre><div class="src-link"><a href="https://github.com/Raynes/laser/tree/e1beb765cf40564a789fa5d2d5f795e9df724530/src/me/raynes/laser.clj#L216">Source</a></div></div><div class="public" id="var-remove-class"><h3>remove-class</h3><div class="usage"><code>(remove-class class)</code></div><pre class="doc">Remove a class from a node. Does not touch other classes.
</pre><div class="src-link"><a href="https://github.com/Raynes/laser/tree/e1beb765cf40564a789fa5d2d5f795e9df724530/src/me/raynes/laser.clj#L203">Source</a></div></div><div class="public" id="var-select-and"><h3>select-and</h3><div class="usage"><code>(select-and &amp; selectors)</code></div><pre class="doc">Like and, but for selectors. Returns true iff all selectors match.
</pre><div class="src-link"><a href="https://github.com/Raynes/laser/tree/e1beb765cf40564a789fa5d2d5f795e9df724530/src/me/raynes/laser.clj#L131">Source</a></div></div><div class="public" id="var-select-or"><h3>select-or</h3><div class="usage"><code>(select-or &amp; selectors)</code></div><pre class="doc">Like or, but for selectors. Returns true iff at least one selector matches.
Like 'foo,bar' in css.</pre><div class="src-link"><a href="https://github.com/Raynes/laser/tree/e1beb765cf40564a789fa5d2d5f795e9df724530/src/me/raynes/laser.clj#L136">Source</a></div></div><div class="public" id="var-to-html"><h3>to-html</h3><div class="usage"><code>(to-html z)</code></div><pre class="doc">Convert a hickory zip back to html.
</pre><div class="src-link"><a href="https://github.com/Raynes/laser/tree/e1beb765cf40564a789fa5d2d5f795e9df724530/src/me/raynes/laser.clj#L46">Source</a></div></div><div class="public" id="var-wrap"><h3>wrap</h3><div class="usage"><code>(wrap tag &amp; [attrs])</code></div><pre class="doc">Wrap a node around the node. Provide the element name as a key (like :div)
and optionally a map of attributes.</pre><div class="src-link"><a href="https://github.com/Raynes/laser/tree/e1beb765cf40564a789fa5d2d5f795e9df724530/src/me/raynes/laser.clj#L210">Source</a></div></div></div></body></html>